<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <script src="scripts/VSS.SDK.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="scripts/app.js"></script>
    <script type="text/javascript">
        VSS.init({
            explicitNotifyLoaded: true,
            usePlatformStyles: true
        });


        VSS.require("TFS/Dashboards/WidgetHelpers", function (WidgetHelpers) {
            WidgetHelpers.IncludeWidgetStyles();
            WidgetHelpers.IncludeWidgetConfigurationStyles();

            VSS.register("Dynamics365NewsWidget", function () {
                return {
                    load: function (widgetSettings) {

                        var app = new Vue({
                            el: '#app',
                            data: {
                                items: [{ link: "", title: "test", description: "blah" }]
                            }
                        });

                        console.log(widgetSettings);

                        return WidgetHelpers.WidgetStatusHelper.Success();
                    },
                    reload: function (widgetSettings) {
                        // init
                        console.log(widgetSettings);

                        return WidgetHelpers.WidgetStatusHelper.Success();
                    }
                }
            });
            VSS.notifyLoadSucceeded();
        });
    </script>

</head>

<body>
    <div class="widget" id="app">

        <div class="middle" style="display: inline-block;">
            <img width="20" src="img/Dynamics-365.png" style="float:left" />
            <h2 class="title" style="padding-left:15px; padding-top:4px">
                Dynamics 365 news</h2>

        </div>

        <div class="content">
            <ul class="no-bullets">
                <li v-for="item in items">
                    <a href="{{ item.link }}" target="_blank">
                        <div class="title">
                            {{ item.title }}
                            <div class="subtitle">{{ item.description }}</div>
                        </div>
                    </a>
                </li>
            </ul>

        </div>
    </div>
</body>

</html>